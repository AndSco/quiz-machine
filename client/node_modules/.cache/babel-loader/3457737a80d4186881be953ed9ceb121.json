{"ast":null,"code":"var _jsxFileName = \"/Users/andreascorcia/Downloads/CODING/quiz-machine/client/src/components/UniversalForm.tsx\";\nimport React, { useReducer, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Input } from \"./UI/Input\";\nimport { loginUser } from \"../utils/dbFunctions\";\nimport { FormContainer, FormTitle, SubmitButton } from \"./UI/Form\";\nexport const testSubmit = async inputValues => {\n  let response;\n  response = await loginUser(inputValues);\n  console.log(\"RESSSS\", response);\n};\nconst ErrorMessage = styled.p`\n  font-size: 0.8rem;\n  color: red;\n  margin-top: 0;\n`;\nexport const Form = ({\n  title,\n  inputs,\n  reducer,\n  inputStartingValues,\n  handleSubmit\n}) => {\n  const [error, setError] = useState(\"\"); // const { loadCurrentUser } = useContext(AuthContext);\n  // const relevantReducer =\n  //   scope === \"login\"\n  //     ? AuthReducers.login.reducer\n  //     : AuthReducers.register.reducer;\n  // const relevantStartingValues =\n  //   scope === \"login\"\n  //     ? AuthReducers.login.startingValues\n  //     : AuthReducers.register.startingValues;\n\n  const [inputValues, dispatch] = useReducer(reducer, inputStartingValues);\n\n  const handleChange = (input, inputName) => dispatch({\n    type: inputName,\n    payload: input\n  }); // const handleSubmit = async () => {\n  //   let response: ApiResponse;\n  //   if (scope === \"login\") {\n  //     response = await loginUser(inputValues);\n  //     console.log(\"RESSSS\", response);\n  //     loadCurrentUser(response.payload);\n  //   } else {\n  //     response = await registerUser(inputValues);\n  //     console.log(\"RESSSS\", response);\n  //     loadCurrentUser(response.payload);\n  //   }\n  //   if (response.message) {\n  //     setError(response.message);\n  //   }\n  // };\n\n\n  const resetError = () => setError(\"\");\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, title), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      handleSubmit(inputValues);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, inputs.map(input => /*#__PURE__*/React.createElement(Input, {\n    key: input.name,\n    inputType: input.inputType ? input.inputType : \"text\",\n    inputName: input.name,\n    onChangeFunction: handleChange,\n    resetError: resetError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  })), error && /*#__PURE__*/React.createElement(ErrorMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"SUBMIT\")));\n};","map":{"version":3,"sources":["/Users/andreascorcia/Downloads/CODING/quiz-machine/client/src/components/UniversalForm.tsx"],"names":["React","useReducer","useState","styled","Input","loginUser","FormContainer","FormTitle","SubmitButton","testSubmit","inputValues","response","console","log","ErrorMessage","p","Form","title","inputs","reducer","inputStartingValues","handleSubmit","error","setError","dispatch","handleChange","input","inputName","type","payload","resetError","e","preventDefault","map","name","inputType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAAwD,OAAxD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,KAAT,QAAsB,YAAtB;AAMA,SAASC,SAAT,QAAwC,sBAAxC;AAIA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,YAAnC,QAAuD,WAAvD;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAOC,WAAP,IAA4B;AACpD,MAAIC,QAAJ;AACAA,EAAAA,QAAQ,GAAG,MAAMN,SAAS,CAACK,WAAD,CAA1B;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,QAAtB;AACD,CAJM;AAMP,MAAMG,YAAY,GAAGX,MAAM,CAACY,CAAE;;;;CAA9B;AA0BA,OAAO,MAAMC,IAAqB,GAAG,CAAC;AACpCC,EAAAA,KADoC;AAEpCC,EAAAA,MAFoC;AAGpCC,EAAAA,OAHoC;AAIpCC,EAAAA,mBAJoC;AAKpCC,EAAAA;AALoC,CAAD,KAM/B;AACJ,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAC,EAAD,CAAlC,CADI,CAEJ;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,QAAM,CAACQ,WAAD,EAAcc,QAAd,IAA0BvB,UAAU,CAACkB,OAAD,EAAUC,mBAAV,CAA1C;;AAEA,QAAMK,YAAY,GAAG,CAACC,KAAD,EAAgBC,SAAhB,KACnBH,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAED,SAAR;AAAmBE,IAAAA,OAAO,EAAEH;AAA5B,GAAD,CADV,CAhBI,CAmBJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAMI,UAAU,GAAG,MAAMP,QAAQ,CAAC,EAAD,CAAjC;;AAEA,sBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYN,KAAZ,CADF,eAEE;AACE,IAAA,QAAQ,EAAEc,CAAC,IAAI;AACbA,MAAAA,CAAC,CAACC,cAAF;AACAX,MAAAA,YAAY,CAACX,WAAD,CAAZ;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGQ,MAAM,CAACe,GAAP,CAAWP,KAAK,iBACf,oBAAC,KAAD;AACE,IAAA,GAAG,EAAEA,KAAK,CAACQ,IADb;AAEE,IAAA,SAAS,EAAER,KAAK,CAACS,SAAN,GAAkBT,KAAK,CAACS,SAAxB,GAAoC,MAFjD;AAGE,IAAA,SAAS,EAAET,KAAK,CAACQ,IAHnB;AAIE,IAAA,gBAAgB,EAAET,YAJpB;AAKE,IAAA,UAAU,EAAEK,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CANH,EAeGR,KAAK,iBAAI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAeA,KAAf,CAfZ,eAgBE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,CAFF,CADF;AAuBD,CAlEM","sourcesContent":["import React, { useReducer, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Input } from \"./UI/Input\";\nimport {\n  AuthReducers,\n  InputName as AuthInputName\n} from \"../reducers/AuthReducers\";\nimport { InputName as QuizInputName } from \"../reducers/AuthReducers\";\nimport { loginUser, registerUser } from \"../utils/dbFunctions\";\nimport { AuthScope } from \"../models/AuthScope\";\nimport { ApiResponse } from \"../models/ApiResponse\";\nimport { AuthContext } from \"../contexts/auth/Auth\";\nimport { FormContainer, FormTitle, SubmitButton } from \"./UI/Form\";\n\nexport const testSubmit = async (inputValues: any) => {\n  let response: ApiResponse;\n  response = await loginUser(inputValues);\n  console.log(\"RESSSS\", response);\n};\n\nconst ErrorMessage = styled.p`\n  font-size: 0.8rem;\n  color: red;\n  margin-top: 0;\n`;\n\ntype PossibleInputName = AuthInputName | QuizInputName;\n\nexport type InputConfig = {\n  name: PossibleInputName;\n  inputType?: \"text\" | \"password\";\n};\n\nexport interface Action {\n  type: PossibleInputName;\n  payload?: string;\n}\n\ntype Props = {\n  title: string;\n  inputs: InputConfig[];\n  reducer: React.Reducer<any, any>;\n  inputStartingValues: any;\n  handleSubmit: (filledInInputs: any[]) => Promise<void>;\n};\n\nexport const Form: React.FC<Props> = ({\n  title,\n  inputs,\n  reducer,\n  inputStartingValues,\n  handleSubmit\n}) => {\n  const [error, setError] = useState(\"\");\n  // const { loadCurrentUser } = useContext(AuthContext);\n\n  // const relevantReducer =\n  //   scope === \"login\"\n  //     ? AuthReducers.login.reducer\n  //     : AuthReducers.register.reducer;\n\n  // const relevantStartingValues =\n  //   scope === \"login\"\n  //     ? AuthReducers.login.startingValues\n  //     : AuthReducers.register.startingValues;\n\n  const [inputValues, dispatch] = useReducer(reducer, inputStartingValues);\n\n  const handleChange = (input: string, inputName: PossibleInputName) =>\n    dispatch({ type: inputName, payload: input });\n\n  // const handleSubmit = async () => {\n  //   let response: ApiResponse;\n  //   if (scope === \"login\") {\n  //     response = await loginUser(inputValues);\n  //     console.log(\"RESSSS\", response);\n  //     loadCurrentUser(response.payload);\n  //   } else {\n  //     response = await registerUser(inputValues);\n  //     console.log(\"RESSSS\", response);\n  //     loadCurrentUser(response.payload);\n  //   }\n  //   if (response.message) {\n  //     setError(response.message);\n  //   }\n  // };\n\n  const resetError = () => setError(\"\");\n\n  return (\n    <FormContainer>\n      <FormTitle>{title}</FormTitle>\n      <form\n        onSubmit={e => {\n          e.preventDefault();\n          handleSubmit(inputValues);\n        }}\n      >\n        {inputs.map(input => (\n          <Input\n            key={input.name}\n            inputType={input.inputType ? input.inputType : \"text\"}\n            inputName={input.name}\n            onChangeFunction={handleChange}\n            resetError={resetError}\n          />\n        ))}\n        {error && <ErrorMessage>{error}</ErrorMessage>}\n        <SubmitButton type=\"submit\">SUBMIT</SubmitButton>\n      </form>\n    </FormContainer>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}