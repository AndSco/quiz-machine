{"ast":null,"code":"var _jsxFileName = \"/Users/andreascorcia/Downloads/CODING/quiz-machine/client/src/components/UI/Form.tsx\";\nimport React, { useReducer, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../constants/colors\";\nimport { Input } from \"./Input\";\nimport { FormReducers } from \"../../reducers/FormReducers\";\nimport { MediumButton } from \"./Buttons\";\nimport { loginUser, registerUser } from \"../../utils/dbFunctions\";\nconst FormContainer = styled.div`\n  width: 600px;\n  height: 300px;\n  background-color: ${Colors.YELLOW};\n  color: ${Colors.BLACK};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n`;\nconst FormTitle = styled.h4`\n  color: white;\n  text-transform: uppercase;\n`;\nconst SubmitButton = styled(MediumButton)`\n  position: absolute;\n  left: ${300 - 125}px;\n  bottom: -25px;\n`;\nconst ErrorMessage = styled.p`\n  font-size: 0.8rem;\n  color: red;\n`;\nexport const Form = ({\n  title,\n  inputs,\n  scope\n}) => {\n  const [error, setError] = useState(\"\");\n  const relevantReducer = scope === \"login\" ? FormReducers.login.reducer : FormReducers.register.reducer;\n  const relevantStartingValues = scope === \"login\" ? FormReducers.login.startingValues : FormReducers.register.startingValues;\n  const [inputValues, dispatch] = useReducer(relevantReducer, relevantStartingValues);\n  console.log(\"INPUTS\", inputValues);\n\n  const handleChange = (input, inputName) => dispatch({\n    type: inputName,\n    payload: input\n  });\n\n  const handleSubmit = async () => {\n    let response;\n\n    if (scope === \"login\") {\n      response = await loginUser(inputValues);\n      console.log(\"RESSSS\", response);\n    } else {\n      response = await registerUser(inputValues);\n      console.log(\"RESSSS\", response);\n    }\n\n    if (response.message) {\n      setError(response.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, title), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      handleSubmit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, inputs.map(input => /*#__PURE__*/React.createElement(Input, {\n    key: input.name,\n    inputName: input.name,\n    onChangeFunction: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  })), error && /*#__PURE__*/React.createElement(ErrorMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"SUBMIT\")));\n};","map":{"version":3,"sources":["/Users/andreascorcia/Downloads/CODING/quiz-machine/client/src/components/UI/Form.tsx"],"names":["React","useReducer","useState","styled","Colors","Input","FormReducers","MediumButton","loginUser","registerUser","FormContainer","div","YELLOW","BLACK","FormTitle","h4","SubmitButton","ErrorMessage","p","Form","title","inputs","scope","error","setError","relevantReducer","login","reducer","register","relevantStartingValues","startingValues","inputValues","dispatch","console","log","handleChange","input","inputName","type","payload","handleSubmit","response","message","e","preventDefault","map","name"],"mappings":"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","sourcesContent":["import React, { useReducer, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../constants/colors\";\nimport { Input } from \"./Input\";\nimport { FormReducers, InputName } from \"../../reducers/FormReducers\";\nimport { MediumButton } from \"./Buttons\";\nimport { loginUser, registerUser } from \"../../utils/dbFunctions\";\nimport { AuthScope } from \"../../models/AuthScope\";\nimport { ApiResponse } from \"../../models/ApiResponse\";\n\nconst FormContainer = styled.div`\n  width: 600px;\n  height: 300px;\n  background-color: ${Colors.YELLOW};\n  color: ${Colors.BLACK};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n`;\n\nconst FormTitle = styled.h4`\n  color: white;\n  text-transform: uppercase;\n`;\n\nconst SubmitButton = styled(MediumButton)`\n  position: absolute;\n  left: ${300 - 125}px;\n  bottom: -25px;\n`;\n\nconst ErrorMessage = styled.p`\n  font-size: 0.8rem;\n  color: red;\n`;\n\ntype InputConfig = {\n  name: InputName;\n};\n\ntype Props = {\n  title: string;\n  inputs: InputConfig[];\n  scope: AuthScope;\n};\n\nexport const Form: React.FC<Props> = ({ title, inputs, scope }) => {\n  const [error, setError] = useState(\"\");\n  const relevantReducer =\n    scope === \"login\"\n      ? FormReducers.login.reducer\n      : FormReducers.register.reducer;\n  const relevantStartingValues =\n    scope === \"login\"\n      ? FormReducers.login.startingValues\n      : FormReducers.register.startingValues;\n  const [inputValues, dispatch] = useReducer(\n    relevantReducer,\n    relevantStartingValues\n  );\n\n  console.log(\"INPUTS\", inputValues);\n\n  const handleChange = (input: string, inputName: InputName) =>\n    dispatch({ type: inputName, payload: input });\n\n  const handleSubmit = async () => {\n    let response: ApiResponse;\n    if (scope === \"login\") {\n      response = await loginUser(inputValues);\n      console.log(\"RESSSS\", response);\n    } else {\n      response = await registerUser(inputValues);\n      console.log(\"RESSSS\", response);\n    }\n    if (response.message) {\n      setError(response.message);\n    }\n  };\n\n  return (\n    <FormContainer>\n      <FormTitle>{title}</FormTitle>\n      <form\n        onSubmit={e => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        {inputs.map(input => (\n          <Input\n            key={input.name}\n            inputName={input.name}\n            onChangeFunction={handleChange}\n          />\n        ))}\n        {error && <ErrorMessage>{error}</ErrorMessage>}\n        <SubmitButton type=\"submit\">SUBMIT</SubmitButton>\n      </form>\n    </FormContainer>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}