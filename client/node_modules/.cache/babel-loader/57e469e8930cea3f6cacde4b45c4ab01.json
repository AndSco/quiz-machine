{"ast":null,"code":"var _jsxFileName = \"/Users/andreascorcia/Downloads/CODING/quiz-machine/client/src/components/sections/private/QuizCreationForm.tsx\";\nimport React, { useReducer, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { QuizCreationReducer, QuizCreationStartingValues } from \"../../../reducers/QuizCreation\";\nimport { Input, StyledLabel, Container as InputContainer } from \"../../UI/Input\";\nimport { FormContainer, FormTitle, SubmitButton } from \"../../UI/Form\";\nimport { Colors } from \"../../../constants/colors\";\nimport { QuestionSubForm } from \"./QuestionSubForm\";\nimport { createQuiz } from \"../../../utils/dbFunctions\";\nimport { AuthContext } from \"../../../contexts/auth/Auth\";\nimport { SavedQuestionCard } from \"./SavedQuestionCard\";\nimport { Icon } from \"../../UI/Icon\";\nconst RadioButtonsContainer = styled.div`\n  display: flex;\n  margin: 0.5rem 0 1rem 0;\n`;\nconst RadioContainer = styled.div`\n  display: flex;\n  margin: 0 1rem;\n  background: white;\n  padding: 0.3rem 0.7rem;\n  align-items: center;\n  border-radius: 40px;\n  cursor: pointer;\n\n  label {\n    padding-left: 6px;\n    font-size: 0.8rem;\n    cursor: pointer;\n  }\n\n  input {\n    margin: 0;\n  }\n`;\nconst AddQuestionButton = styled.h4`\n  color: ${Colors.STEEL_PINK_2};\n  background-color: white;\n  padding: 0.5rem;\n  border-radius: 40px;\n  margin: 2.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n\n  :hover {\n    color: white;\n    background-color: ${Colors.STEEL_PINK_2};\n  }\n`;\nexport const QuizCreationForm = () => {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [isAddingQuestions, setIsAddingQuestions] = useState(false);\n  const [inputValues, dispatch] = useReducer(QuizCreationReducer, QuizCreationStartingValues);\n  const [uploadMessage, setUploadMessage] = useState(\"\");\n\n  const handleChange = (input, inputName) => {\n    dispatch({\n      type: inputName,\n      payload: input\n    });\n  };\n\n  const handleSubmit = async () => {\n    const quizCreated = { ...inputValues\n    };\n    console.log(\"QUIZ CREATED\", quizCreated);\n    const response = await createQuiz(quizCreated, currentUser._id);\n    setUploadMessage(response.message);\n  };\n\n  const handleRadioButtonChange = choice => {\n    const actionToDispatch = {\n      type: \"isPrivate\",\n      payload: false\n    };\n\n    if (choice === \"yes\") {\n      actionToDispatch.payload = true;\n    }\n\n    dispatch(actionToDispatch);\n  };\n\n  const saveQuestionInState = question => dispatch({\n    type: \"questions\",\n    payload: question\n  });\n\n  const closeQuestionForm = () => setIsAddingQuestions(false);\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, isAddingQuestions && /*#__PURE__*/React.createElement(QuestionSubForm, {\n    saveQuestionInState: saveQuestionInState,\n    closeItself: closeQuestionForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), uploadMessage ? /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, uploadMessage) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Create your quiz\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      handleSubmit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    inputName: \"title\",\n    onChangeFunction: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    inputName: \"backgroundImageUrl\",\n    onChangeFunction: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(InputContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StyledLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"What do you want to do with this quiz?\".toUpperCase()), /*#__PURE__*/React.createElement(RadioButtonsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(RadioContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"yes\",\n    name: \"isPrivate\",\n    value: \"yes\",\n    onChange: e => handleRadioButtonChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"yes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, \"Keep it private\")), /*#__PURE__*/React.createElement(RadioContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"no\",\n    name: \"isPrivate\",\n    value: \"no\",\n    onChange: e => handleRadioButtonChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, \"Publish it\")))), /*#__PURE__*/React.createElement(AddQuestionButton, {\n    onClick: () => setIsAddingQuestions(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: \"plus-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }), \"Add a question\"), inputValues.questions.length > 0 && inputValues.questions.map((question, index) => /*#__PURE__*/React.createElement(SavedQuestionCard, {\n    key: index,\n    question: question,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"SUBMIT\"))));\n};","map":{"version":3,"sources":["/Users/andreascorcia/Downloads/CODING/quiz-machine/client/src/components/sections/private/QuizCreationForm.tsx"],"names":["React","useReducer","useState","useContext","styled","QuizCreationReducer","QuizCreationStartingValues","Input","StyledLabel","Container","InputContainer","FormContainer","FormTitle","SubmitButton","Colors","QuestionSubForm","createQuiz","AuthContext","SavedQuestionCard","Icon","RadioButtonsContainer","div","RadioContainer","AddQuestionButton","h4","STEEL_PINK_2","QuizCreationForm","currentUser","isAddingQuestions","setIsAddingQuestions","inputValues","dispatch","uploadMessage","setUploadMessage","handleChange","input","inputName","type","payload","handleSubmit","quizCreated","console","log","response","_id","message","handleRadioButtonChange","choice","actionToDispatch","saveQuestionInState","question","closeQuestionForm","e","preventDefault","toUpperCase","target","value","questions","length","map","index"],"mappings":"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","sourcesContent":["import React, { useReducer, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  QuizCreationReducer,\n  QuizCreationStartingValues,\n  QuizCreationAction,\n  InputName\n} from \"../../../reducers/QuizCreation\";\nimport {\n  Input,\n  StyledLabel,\n  Container as InputContainer\n} from \"../../UI/Input\";\nimport { FormContainer, FormTitle, SubmitButton } from \"../../UI/Form\";\nimport { Colors } from \"../../../constants/colors\";\nimport {\n  PrivateQuizQuestion,\n  PrivacyChoice\n} from \"../../../models/PrivateQuiz\";\nimport { QuestionSubForm } from \"./QuestionSubForm\";\nimport { createQuiz } from \"../../../utils/dbFunctions\";\nimport { AuthContext } from \"../../../contexts/auth/Auth\";\nimport { ApiResponse } from \"../../../models/ApiResponse\";\nimport { SavedQuestionCard } from \"./SavedQuestionCard\";\nimport { Icon } from \"../../UI/Icon\";\n\nconst RadioButtonsContainer = styled.div`\n  display: flex;\n  margin: 0.5rem 0 1rem 0;\n`;\n\nconst RadioContainer = styled.div`\n  display: flex;\n  margin: 0 1rem;\n  background: white;\n  padding: 0.3rem 0.7rem;\n  align-items: center;\n  border-radius: 40px;\n  cursor: pointer;\n\n  label {\n    padding-left: 6px;\n    font-size: 0.8rem;\n    cursor: pointer;\n  }\n\n  input {\n    margin: 0;\n  }\n`;\n\nconst AddQuestionButton = styled.h4`\n  color: ${Colors.STEEL_PINK_2};\n  background-color: white;\n  padding: 0.5rem;\n  border-radius: 40px;\n  margin: 2.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n\n  :hover {\n    color: white;\n    background-color: ${Colors.STEEL_PINK_2};\n  }\n`;\n\nexport const QuizCreationForm: React.FC = () => {\n  const { currentUser } = useContext(AuthContext);\n  const [isAddingQuestions, setIsAddingQuestions] = useState(false);\n  const [inputValues, dispatch] = useReducer(\n    QuizCreationReducer,\n    QuizCreationStartingValues\n  );\n  const [uploadMessage, setUploadMessage] = useState(\"\");\n\n  const handleChange = (input: string, inputName: InputName) => {\n    dispatch({ type: inputName, payload: input });\n  };\n\n  const handleSubmit = async () => {\n    const quizCreated = { ...inputValues };\n    console.log(\"QUIZ CREATED\", quizCreated);\n    const response = await createQuiz(quizCreated, currentUser!._id);\n    setUploadMessage((response as ApiResponse).message as string);\n  };\n\n  const handleRadioButtonChange = (choice: PrivacyChoice) => {\n    const actionToDispatch: QuizCreationAction = {\n      type: \"isPrivate\",\n      payload: false\n    };\n    if (choice === \"yes\") {\n      actionToDispatch.payload = true;\n    }\n    dispatch(actionToDispatch);\n  };\n\n  const saveQuestionInState = (question: PrivateQuizQuestion) =>\n    dispatch({ type: \"questions\", payload: question });\n\n  const closeQuestionForm = () => setIsAddingQuestions(false);\n\n  return (\n    <FormContainer>\n      {isAddingQuestions && (\n        <QuestionSubForm\n          saveQuestionInState={saveQuestionInState}\n          closeItself={closeQuestionForm}\n        />\n      )}\n\n      {uploadMessage ? (\n        <h2>{uploadMessage}</h2>\n      ) : (\n        <>\n          <FormTitle>Create your quiz</FormTitle>\n          <form\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              e.preventDefault();\n              handleSubmit();\n            }}\n          >\n            <Input inputName=\"title\" onChangeFunction={handleChange} />\n            <Input\n              inputName=\"backgroundImageUrl\"\n              onChangeFunction={handleChange}\n            />\n\n            <InputContainer>\n              <StyledLabel>\n                {\"What do you want to do with this quiz?\".toUpperCase()}\n              </StyledLabel>\n              <RadioButtonsContainer>\n                <RadioContainer>\n                  <input\n                    type=\"radio\"\n                    id=\"yes\"\n                    name=\"isPrivate\"\n                    value=\"yes\"\n                    onChange={e =>\n                      handleRadioButtonChange(e.target.value as PrivacyChoice)\n                    }\n                  />\n                  <label htmlFor=\"yes\">Keep it private</label>\n                </RadioContainer>\n                <RadioContainer>\n                  <input\n                    type=\"radio\"\n                    id=\"no\"\n                    name=\"isPrivate\"\n                    value=\"no\"\n                    onChange={e =>\n                      handleRadioButtonChange(e.target.value as PrivacyChoice)\n                    }\n                  />\n                  <label htmlFor=\"no\">Publish it</label>\n                </RadioContainer>\n              </RadioButtonsContainer>\n            </InputContainer>\n            <AddQuestionButton onClick={() => setIsAddingQuestions(true)}>\n              <Icon icon={\"plus-circle\"} />\n              Add a question\n            </AddQuestionButton>\n\n            {inputValues.questions.length > 0 &&\n              inputValues.questions.map((question, index) => (\n                <SavedQuestionCard key={index} question={question} />\n              ))}\n\n            <SubmitButton type=\"submit\">SUBMIT</SubmitButton>\n          </form>\n        </>\n      )}\n    </FormContainer>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}